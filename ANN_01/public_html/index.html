<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html ng-app="com.samou.ann">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <title>ANN HW 01</title> 
        <link rel="stylesheet" type="text/css" href="css/jsxgraph/jsxgraph.css" />
        <link rel="stylesheet" type="text/css" href="css/drawer/drawer.css">
        <link rel="stylesheet" href="//rawgithub.com/blivesta/ashiba/master/archive/0.3.1/css/ashiba.min.css">
        <link href="css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="css/bootstrap/bootstrap-switch.css" rel="stylesheet">
        <style>
            .site-masthead {
            background-color: #272727;
            background-image: -webkit-linear-gradient(45deg, #7B7B7B 0%, #272727 100%);
            background-image: -o-linear-gradient(45deg, #7B7B7B 0%, #272727 100%);
            background-image: linear-gradient(45deg, #7B7B7B 0%, #272727 100%);
            background-repeat: repeat-x;
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#7B7B7B, endColorstr=#272727, GradientType=0);
            }
        </style>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script type="text/javascript" src="js/libs/jsxgraph/loadjsxgraph.js"></script>
        <script src="js/libs/drawer/js/jquery.drawer.js"></script>
        <script src="js/libs/bootstrap/button.js"></script>
        <script src="js/libs/bootstrap/bootstrap.js"></script>
        <script type="text/javascript" src="js/libs/bootstrap/bootstrap-progressbar.js"></script>
        <script src="js/libs/bootstrap/bootstrap-switch.js"></script>
        
        
        
        <script type="text/javascript" src="js/Drawer.js"></script>
        <script type="text/javascript" src="js/fileReader.js"></script>
        <script type="text/javascript" src="js/Neuron.js"></script>
        <script type="text/javascript" src="js/configure.js"></script>
        <meta charset="UTF-8">
        <script>
            
            var chengeClass = function(valClass) {
              switch(valClass) {
                case 'drawer-left':
                  $("#drawer").removeClass("drawer-right drawer-responsive").addClass(valClass).drawer("open");
                  $('.js-trigger').attr('disabled', false);
                break;
                case 'drawer-right':
                  $("#drawer").removeClass("drawer-left drawer-responsive").addClass(valClass).drawer("open");
                  $('.js-trigger').attr('disabled', false);
                break;
                case 'drawer-left drawer-responsive':
                  $("#drawer").removeClass("drawer-right drawer-open").addClass(valClass).drawer("resize");
                  $('.js-trigger').attr('disabled', true);
                break;
                case 'drawer-right drawer-responsive':
                  $("#drawer").removeClass("drawer-left drawer-open").addClass(valClass).drawer("resize");
                  $('.js-trigger').attr('disabled', true);
              }
            };

            $(document).ready(function(){

              $('#drawer').drawer();
              // var touchScroll;
              // var touchScroll = new iScroll("drawer-nav",{});



              $('.js-trigger').click(function(){
                var selectVal = $('.js-select').val();
                chengeClass(selectVal);
              });
              $('.js-select').change(function(){
                var valClass = $(this).val();
                chengeClass(valClass);
              });
            });
            
            var ResizeCanvas = function() {
                var cw = $('#jxgbox').width();
                $('#jxgbox').css({'height':cw+'px'});
                // 畫布畫點東西比較好看
                var aa = JXG.JSXGraph.initBoard('jxgbox', {boundingbox:[-5, 5, 5, -5], axis: true, grid: true, keepaspectratio: true, showcopyright: false, zoom: true, pan: true}),
                out = document.getElementById('out');
            };
            var closeDrawer = function() {
                $("#drawer").drawer("close");                
            };
            pb = function(){
                $pb = $('#h-fill-basic .progress-bar');
                $pb.attr('data-transitiongoal', Math.floor(neuron.n / (neuron.true_loop_times/100))); // 做一下正規化
                $pb.progressbar({display_text: 'fill'});
            };
            
            $("[name='my-checkbox']").bootstrapSwitch();
        </script>
        
    </head>

    
    
    
    <body class="site-home drawer drawer-right" id="drawer">
        <div class="site-wrapper">
            <a class="drawer-toggle btn btn-outline-white">
                Settings
            </a>
        </div>  
        <div class="drawer-masta drawer-default drawer-masta-right">
          <nav　id="drawer-nav" class="drawer-nav " role="navigation">
            <div class="drawer-brand">
              <h3 style="color:white">Select a file and set parameters.</h3>
            </div>
            <ul class="nav drawer-nav-list">
              <li><a>Learning Times<input type="text" id="learning_times" placeholder="20" class="form-control" value="20"></a></li>
              <li><a>Learning Rate<input type="text" id="learning_rate" placeholder="0.8" class="form-control" value="0.8"></a></li>
              <li><a id="animation_name">Animation<input type="checkbox" name="my-checkbox" checked></a></li>
              <li><a id="animation_name">FPS:<input type="text" id="fps" placeholder="3" class="form-control" value="3"></a></li>
              <hr/>
              <div class="drawer-brand">
                <h3 style="color:white">2-D, 2-Class</h3>
              </div>
              <li><a onclick="init(0);">2Ccircle1(2D 2Class)</a></li>
              <li><a onclick="init(1);">2Circle1(2D 2Class)</a></li>
              <li><a onclick="init(2);">2class(2D 2Class)</a></li>
              <li><a onclick="init(3);">2CloseS2(2D 2Class)</a></li>
              <li><a onclick="init(4);">2CloseS3(2D 2Class)</a></li>
              <li><a onclick="init(5);">2CloseS(2D 2Class)</a></li>
              <li><a onclick="init(6);">2cring(2D 2Class)</a></li>
              <li><a onclick="init(7);">2CS(2D 2Class)</a></li>
              <li><a onclick="init(8);">2Hcircle1(2D 2Class)</a></li>
              <li><a onclick="init(9);">2ring(2D 2Class)</a></li>
              <li><a onclick="init(10);">5CloseS1(2D 2Class)</a></li>
              <li><a onclick="init(11);">xor(2D 2Class)</a></li>
              <li><a onclick="init(12);">感知機1(2D 2Class)</a></li>
              <li><a onclick="init(13);">感知機2(2D 2Class)</a></li>
              <hr/>
              <div class="drawer-brand">
                <h3 style="color:white">Over 2-D, 2-Class</h3>
              </div>
              <li><a onclick="init(14);">2Circle2(2D 3Class)</a></li>
              <li><a onclick="init(15);">8OX(8D 3Class)</a></li>
              <li><a onclick="init(16);">C10D(10D 4Class)</a></li>
              <li><a onclick="init(17);">C3D(3D 4Class)</a></li>
              <li><a onclick="init(18);">IRIS(4D 3Class)</a></li>
              <li><a onclick="init(19);">wine(13D 3Class)</a></li>
              <li><a onclick="init(20);">感知機3(3D 2Class)</a></li>
              <li><a onclick="init(21);">感知機4(2D 3Class)</a></li>
              <li><a onclick="init(22);">衛星6類_4維(4D 6Class)</a></li>
              <li></li>
            </ul>
          </nav>
        </div>
        <div class="drawer-overlay">
            <main class="site-masthead" role="main">
                <h2 id="filename">Please Select a File!</h2>
                <div class="container">
                    <hr/>
                    <div id="jxgbox" class="jxgbox" style="width:90%; height:width; margin: 0 auto;"></div>
                    <script type="text/javascript">
                        ResizeCanvas();//讓高與寬相同 設 %為了給手機囉！
                    </script>
                    
                    <hr/>
                    <form>
                    <button type="button" id="previous" class="btn btn-primary">Previous</button>
                    <button type="button" id="next" class="btn btn-primary">Next</button>
                    </form>
                    <hr/>
                    <!--
                    http://www.minddust.com/project/bootstrap-progressbar/demo/bootstrap-3-2-0/
                    -->
                    <div class="tab-content">
                        <div class="tab-pane fade in active" id="h-fill-basic">
                            <div class="bs-example">
                                <div class="">
                                    <div class="progress"><div class="progress-bar" role="progressbar" data-transitiongoal-backup="75"></div></div>
                                </div>
                                <script type='text/javascript'>
                                    $(document).ready(function() {
                                        $('#next').click(function() {
                                            var n = neuron.Learning(1);
                                            pb();
//                                            $pb = $('#h-fill-basic .progress-bar');
//                                            $pb.attr('data-transitiongoal', n);
//                                            $pb.progressbar({display_text: 'fill'});
                                        });
                                        $('#previous').click(function() {
                                            var n = neuron.Learning(0);
//                                            $pb = $('#h-fill-basic .progress-bar');
//                                            $pb.attr('data-transitiongoal', n);
//                                            $pb.progressbar({display_text: 'fill'});
                                        });
                                        $('#h-fill-basic-reset').click(function() {
                                            $('#h-fill-basic .progress-bar').attr('data-transitiongoal', 0).progressbar({display_text: 'fill'});
                                        });
                                    });
                                </script>
                            </div>
                        </div>
                    </div>

                    <!--
                    <div ng-controller="ProgressDemoCtrl">
                        <hr />
                        <h3>Dynamic <button class="btn btn-sm btn-primary" type="button" ng-click="random(100)">Randomize</button></h3>
                        <progressbar max="max" value="dynamic"><span style="color:black; white-space:nowrap;">{{dynamic}} / {{max}}</span></progressbar>
                    
                    </div>
                    -->
                    
                </div><!-- /.container -->
  
            </main>

            <div class="site-body">
                <h2>Function Display</h2>
                <div class="site-body-inner container">
                    
                    <div class="site-section">                        

                      <div class="site-section-body">

                        

                      </div>
                    </div>

                    <div class="site-section">

                      <p class="lead">88</p>
                      <div class="site-section-body">

                      </div>
                    </div>

                </div>
            </div>


            <div>
                <footer class="site-footer">
                    <div class="site-footer-inner container">
                        <h2>Basic Perceptron Demo</h2>
                        <p>2014/09/28 / 作者：<a target="_blank" href="https://plus.google.com/u/0/111581397895385381775/posts">SamOU</a>
                        <!--<br>Code licensed under the MIT license.--></p>
                        <ul class="site-social">
                            <!--
                            <li>
                              <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=blivesta&amp;repo=drawer&amp;type=fork&amp;count=true" width="100" height="20"></iframe>
                            </li>-->
                            <li>
                              <iframe class="github-btn" src="http://ghbtns.com/github-btn.html?user=sam0426933&amp;repo=ANN_HW&amp;type=watch&amp;count=true" width="100" height="20"></iframe>
                            </li>
                        </ul>       

                    </div>
                </footer>
            </div>
        </div><!-- /.site-wrapper -->
  
    <script type="text/javascript">
        var database;         
        var path;
        var text = $("#filename");        
        var init = function(select) {
            switch(select){
                case 0: // 2Ccircle1(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2Ccircle1.txt";
                    $("#filename").text('2Ccircle1(2D 2Class)');
                    break;
                case 1: // 2Circle1(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2Circle1.txt";
                    $("#filename").text('2Circle1(2D 2Class)');
                    break;
                case 2: // 2class(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2class.txt";
                    $("#filename").text('2class(2D 2Class)');
                    break;
                case 3: // 2CloseS2(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2CloseS2.txt";
                    $("#filename").text('2CloseS2(2D 2Class)');
                    break;
                case 4: // 2CloseS3(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2CloseS3.txt";
                    $("#filename").text('2CloseS3(2D 2Class)');
                    break;
                case 5: // 2CloseS(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2CloseS.txt";
                    $("#filename").text('2CloseS(2D 2Class)');
                    break;
                case 6: // 2cring(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2cring.txt";
                    $("#filename").text('2cring(2D 2Class)');
                    break;
                case 7: // 2CS(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2CS.txt";
                    $("#filename").text('2CS(2D 2Class)');
                    break;
                case 8: // 2Hcircle1(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2Hcircle1.txt";
                    $("#filename").text('2Hcircle1(2D 2Class)');
                    break;
                case 9: // 2ring(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2ring.txt";
                    $("#filename").text('2ring(2D 2Class)');
                    break;
                case 10: // 5CloseS1(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/5CloseS1.txt";
                    $("#filename").text('5CloseS1(2D 2Class)');
                    break;
                case 11: // xor(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/xor.txt";
                    $("#filename").text('xor(2D 2Class)');
                    break;
                case 12: // 感知機1(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/%E6%84%9F%E7%9F%A5%E6%A9%9F1.txt";
                    $("#filename").text('感知機1(2D 2Class)');
                    break;
                case 13: // 感知機2(2D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/%E6%84%9F%E7%9F%A5%E6%A9%9F2.txt";
                    $("#filename").text('感知機2(2D 2Class)');
                    break;
                case 14: // 2Circle2(2D 3Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/2Circle2.txt";
                    $("#filename").text('2Circle2(2D 3Class)');
                    break;
                case 15: // 8OX(8D 3Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/8OX.TXT";
                    $("#filename").text('8OX(8D 3Class)');
                    break;
                case 16: // C10D(10D 4Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/C10D.TXT";
                    $("#filename").text('C10D(10D 4Class)');
                    break;
                case 17: // C3D(3D 4Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/C3D.TXT";
                    $("#filename").text('C3D(3D 4Class)');
                    break;
                case 18: // IRIS(4D 3Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/IRIS.TXT";
                    $("#filename").text('IRIS(4D 3Class)');
                    break;
                case 19: // wine(13D 3Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/wine.txt";
                    $("#filename").text('wine(13D 3Class)');
                    break;
                case 20: // 感知機3(3D 2Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/%E6%84%9F%E7%9F%A5%E6%A9%9F3.txt";
                    $("#filename").text('感知機3(3D 2Class)');
                    break;
                case 21: // 感知機4(2D 3Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/%E6%84%9F%E7%9F%A5%E6%A9%9F4.txt";
                    $("#filename").text('感知機4(2D 3Class)');
                    break;
                case 22: // 衛星6類_4維(4D 6Class)
                    path = "https://dl.dropboxusercontent.com/u/43345624/data/%E8%A1%9B%E6%98%9F6%E9%A1%9E_4%E7%B6%AD.txt";
                    $("#filename").text('衛星6類_4維(4D 6Class)');
                    break;                    
            }
            if(neuron != null)
                neuron = null;
            if(database != null)
                database = null;
            
            database = new Database();   
            database.readTextFile(path);
            neuron = new Neuron(database,$("#learning_rate").val(),$("#learning_times").val(),$("#fps").val());
            closeDrawer();
        };
                        
        //var database = new Database();   
        //database.readTextFile('https://dl.dropboxusercontent.com/u/43345624/data/2CS.txt');
        //database.readTextFile('https://dl.dropboxusercontent.com/u/43345624/data/%E6%84%9F%E7%9F%A5%E6%A9%9F2.txt');
                    
        
        //var neuron = new Neuron(database,0.4);
        
        
        //database.readTextFile('https://dl.dropboxusercontent.com/u/43345624/data/filename');
        //mDrawer.clearFunc();
//        var board = JXG.JSXGraph.initBoard('jxgbox', {boundingbox:[-5, 5, 5, -5], axis: true, grid: true, keepaspectratio: true, showcopyright: false, zoom: true, pan: true}),
//            out = document.getElementById('out');
//
//        var p = board.create('point', [1, 2]);
//        var q = board.create('point', [3, 2]);
//
//        var l = board.create('line', [p, q]);
//
//        // test add/remove of internal event handlers
//        board.on('up', function (e) {
//            out.innerHTML += 'up ' + e + '<br/>';
//        });
//
//        board.on('hit', function (e, el, i) {
//            out.innerHTML += 'hit 1: ' + el.name + '<br />';
//        });
//
//        board.on('hit', function (e, el, i) {
//            out.innerHTML += 'hit 2: ' + el.name + '<br />';
//        });
//
//        board.off('hit');
//
//        var hithdlr = function (e, el, i) {
//            out.innerHTML += 'hit 3: ' + el.name + '<br />';
//        };
//        board.on('hit', hithdlr);
//
//        board.off('hit', hithdlr);
//
//        board.on('hit', function (e, el, i) {
//            out.innerHTML += 'hit 4: ' + el.name + '<br />';
//        });
//
//
//        // test add/remove native event handlers
//        JXG.addEvent(board.containerObj, 'mousedown', function (e) {
//            out.innerHTML += 'mousedown 1<br />';
//        }, this);
//        JXG.removeAllEvents(board.containerObj, 'mousedown', this);
//
//        var mousedown2 = function (e) {
//            out.innerHTML += 'mousedown 2<br />';
//        };
//        JXG.addEvent(board.containerObj, 'mousedown', mousedown2, this);
//
//        JXG.addEvent(board.containerObj, 'mousedown', function (e) {
//            out.innerHTML += 'mousedown 3<br />';
//        }, this);
//
//        JXG.removeEvent(board.containerObj, 'mousedown', mousedown2, this);
        /* ]]> */
    </script>
    </body>
    


</html>
